---
title: 由 RSA VS ECC 引发的密码学基础普及
top: false
cover: false
toc: true
mathjax: true
date: 2020-08-28 22:36:37
password:
summary:
tags:
categories: cryptography | blockchain
---





为什么在现阶段众多的区块链项目的选择依旧是 ECC 而不是 RSA 呢？这两种加密算法又有什么区别和各自的优缺点呢？

  <!--more-->

RSA 加密算法是一种非对称加密算法，什么是非对称加密算法呢？简单来说就是加密和解密不是互为逆过程，下面先给大家普及一下**对称加密算法和非对称加密算法的区别**：

如果有这样一个场景， Alice 和 Bob 有想要共享的明文，两者要如何传递这个信息而不用担心被第三方窃听到呢？对于**对称加密**而言，只需要 Alice 和 Bob 双方共同拥有一个密钥， Alice 这边用这个密钥对明文进行加密，然后发送给 Bob 。所有第三方由于没有这个密钥，是无法破解这串密文的，但是到了 Bob 这端， Bob 可以用密钥进行解密，从而得到明文，这样加密和解密是不是就是一个逆过程了。但是，这样的方案有严重的缺陷，实际情况中我们无法让 Alice 和 Bob 提前商量好使用同一个密钥而不被第三方窃听到，如果能做到这样的保证，那我们为什么不直接让双方进行明文的共享呢？

而对于非对称加密而言，密钥有两种：公钥和私钥。公钥用于加密，私钥用于解密。针对当前这个例子， Alice 用公开的公钥对明文进行加密，只有 Bob 拥有这个公钥所对应的私钥，那么也就意味着只有 Bob 才能对这串密文进行解密，这也就达到了我们的目的。

## RSA

对极大整数做因数分解的难度决定了 RSA 算法的可靠性。也就是说，假如有人找到一种快速因数分解的算法的话，那么用 RSA 加密的信息的可靠性就会极度下降。当然这种可能性是非常低的。现阶段，只有短的 RSA 密钥才可能被暴力破解，但是只要其密钥的长度足够长，用 RSA 加密的信息实际上是不能被破解的。总的来说， RSA 就是利用了：

1. 对两个质数相乘很简单，但是将其积分解成两个质数却很难，即 $$n=p_1*p_2$$ ，已知 p1 和 p2 ，求 n 很简单，但是已知 n ，却很难求得 p1 和 p2 。
2.  $${m^e}\ mod \ n=c$$ ，已知 m，e，n 求 c 很简单，反之却很难。

下面是算法的具体步骤：

1. 随机选取两个**不同**的素数 p，q
2. 将 p，q 相乘，即 $$n=p*q$$ 
3. 计算 n 的欧拉函数 $$\psi(n)$$ ，欧拉函数证明，当 p，q 为不相同的素数时， $$\psi(n)=(p-1)(q-1)$$ 。
4. 随机选择一个整数 e ，满足两个条件： $$\psi(n)$$ 与 e 互质，且 1 < e <  $$\psi(n)$$ 。
5. 计算 e 对于 $$\psi(n)$$ 的模反元素 d ，即找到一个 d 满足 $$ed=1\ mod\ \psi(n) $$ 。上述条件等价于 $$ed-1=k\psi(n)$$ ，求 (d,k) 的整数解。这个方程可以用[扩展欧几里得算法](https://zh.wikipedia.org/wiki/%E6%89%A9%E5%B1%95%E6%AC%A7%E5%87%A0%E9%87%8C%E5%BE%97%E7%AE%97%E6%B3%95)求得。
6. 最终把 (e,n) 封装成公钥，(d,n) 封装成私钥。 

最终加密的过程即为 $$C=M^e\ mod \ n$$ ，而解密的过程即为 $$M=C^d\ mod\ n$$ 。

## ECC

